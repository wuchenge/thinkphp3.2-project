<!--_meta 作为公共模版分离出去-->
<!DOCTYPE HTML>
<html>
<head>
<meta charset="utf-8">
<meta name="renderer" content="webkit|ie-comp|ie-stand">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
<LINK rel="Bookmark" href="/favicon.ico" >
<LINK rel="Shortcut Icon" href="/favicon.ico" />
<!--[if lt IE 9]>
<script type="text/javascript" src="__ROOT__/Public/lib/html5.js"></script>
<script type="text/javascript" src="__ROOT__/Public/lib/respond.min.js"></script>
<script type="text/javascript" src="__ROOT__/Public/lib/PIE_IE678.js"></script>
<![endif]-->
<link rel="stylesheet" type="text/css" href="__ROOT__/Public/static/h-ui/css/H-ui.min.css" />
<link rel="stylesheet" type="text/css" href="__ROOT__/Public/static/h-ui.admin/css/H-ui.admin.css" />
<link rel="stylesheet" type="text/css" href="__ROOT__/Public/lib/Hui-iconfont/1.0.7/iconfont.css" />
<link rel="stylesheet" type="text/css" href="__ROOT__/Public/lib/icheck/icheck.css" />
<link rel="stylesheet" type="text/css" href="__ROOT__/Public/static/h-ui.admin/skin/default/skin.css" id="skin" />
<link rel="stylesheet" type="text/css" href="__ROOT__/Public/static/h-ui.admin/css/style.css" />
<!--[if IE 6]>
<script type="text/javascript" src="http://lib.h-ui.net/DD_belatedPNG_0.0.8a-min.js" ></script>
<script>DD_belatedPNG.fix('*');</script>
<![endif]-->
<!--/meta 作为公共模版分离出去-->

<title>新建网站角色 - 管理员管理 - H-ui.admin v2.3</title>
<meta name="keywords" content="H-ui.admin v2.3,H-ui网站后台模版,后台模版下载,后台管理系统模版,HTML后台模版下载">
<meta name="description" content="H-ui.admin v2.3，是一款由国人开发的轻量级扁平化网站后台模板，完全免费开源的网站后台管理系统模版，适合中小型CMS后台系统。">
</head>
<body>
<nav class="breadcrumb"><i class="Hui-iconfont">&#xe67f;</i> 首页 <span class="c-gray en">&gt;</span> 管理员管理 <span class="c-gray en">&gt;</span>  <if condition="empty($gl['id'])">角色添加<else/>角色修改</if> <a class="btn btn-success radius r" style="line-height:1.6em;margin-top:3px" href="javascript:location.replace(location.href);" title="刷新" ><i class="Hui-iconfont">&#xe68f;</i></a></nav>
<article class="page-container" style="margin-left: -200px;">
	<form <if condition="empty($gl['id'])">action="{:U('Admin/adminRoleAdd')}"<else/>action="{:U('Admin/adminRoleEdit')}"</if>method="post"  class="form form-horizontal" id="form-admin-role-add">
		<div class="row cl">
			<label class="form-label col-xs-4 col-sm-3"><span class="c-red">*</span>角色名称：</label>
			<div class="formControls col-xs-8 col-sm-9">
				<input type="text" class="input-text" value="{$gl.rname}" placeholder="" id="roleName" required name="rname" datatype="*4-16" nullmsg="角色名称不能为空">
			</div>
		</div>
		<div class="row cl">
			<label class="form-label col-xs-4 col-sm-3">权限介绍：</label>
			<div class="formControls col-xs-8 col-sm-9">
				<input type="text" class="input-text" value="{$gl.content}" required  datatype="*4-80" name="content">
			</div>
		</div>
		<div class="row cl">
			<label class="form-label col-xs-4 col-sm-3">网站权限：</label>
			<div class="formControls col-xs-8 col-sm-9">
				<dl class="permission-list">
					<dt>
						<label>
							<input type="checkbox" value=""  >
							新闻管理</label>
					</dt>
					<dd>
						<dl class="cl permission-list2">
					<dd style="margin-left: -10px;">
						<label class="">
							<input type="checkbox" <if condition="in_array('news-newsadd',$gl['quanxian'])">checked</if> value="news-newsadd,news-cateadd" name="quanxian[]" >
							添加</label>
						<label class="">
							<input type="checkbox" <if condition="in_array('news-newsedit',$gl['quanxian'])">checked</if> value="news-newsedit,news-cateedit" name="quanxian[]" >
							修改</label>
						<label class="">
							<input type="checkbox" <if condition="in_array('news-delnews',$gl['quanxian'])">checked</if> value="news-delnews,news-cate" name="quanxian[]" >
							删除</label>
						<label class="">
							<input type="checkbox" <if condition="in_array('news-newslist',$gl['quanxian'])">checked</if> value="news-newslist,news-catedel"  name="quanxian[]" >
							查看</label>
					</dd>
				</dl>
				</dd>
				</dl>
				<dl class="permission-list">
					<dt>
						<label>
							<input type="checkbox" value=""  >
							单页管理</label>
					</dt>
					<dd>
						<dl class="cl permission-list2">
					<dd style="margin-left: -10px;">
					<label class="">
						<input type="checkbox"
						<if condition="in_array('danye-add',$gl['quanxian'])">checked</if>
						value="danye-add" name="quanxian[]" >
						添加</label>
					<label class="">
						<input type="checkbox"
						<if condition="in_array('danye-edit',$gl['quanxian'])">checked</if>
						value="danye-edit" name="quanxian[]" >
						修改</label>
					<label class="">
						<input type="checkbox"
						<if condition="in_array('danye-del',$gl['quanxian'])">checked</if>
						value="danye-del" name="quanxian[]" >
						删除</label>
					<label class="">
						<input type="checkbox"
						<if condition="in_array('danye-lists',$gl['quanxian'])">checked</if>
						value="danye-lists" name="quanxian[]" >
						查看</label>
					</dd>
				</dl>
				</dd>
				</dl>
				<dl class="permission-list">
					<dt>
						<label>
							<input type="checkbox" value=""  >
							导航管理</label>
					</dt>
					<dd>
						<dl class="cl permission-list2">
					<dd style="margin-left: -10px;">
						<label class="">
							<input type="checkbox" <if condition="in_array('Nav-add',$gl['quanxian'])">checked</if> value="Nav-add" name="quanxian[]" >
							添加</label>
						<label class="">
							<input type="checkbox" <if condition="in_array('Nav-edit',$gl['quanxian'])">checked</if> value="Nav-edit"  name="quanxian[]" >
							修改</label>
						<label class="">
							<input type="checkbox" <if condition="in_array('Nav-del',$gl['quanxian'])">checked</if> value="Nav-del" name="quanxian[]" >
							删除</label>
						<label class="">
							<input type="checkbox" <if condition="in_array('Nav-lists',$gl['quanxian'])">checked</if> value="Nav-lists" name="quanxian[]" >
							查看</label>
					</dd>
				</dl>
				</dd>
				</dl>


				<dl class="permission-list">
					<dt>
						<label>
							<input type="checkbox" value=""  >
							图片管理</label>
					</dt>
					<dd>
						<dl class="cl permission-list2">
					<dd style="margin-left: -10px;">
						<label class="">
							<input type="checkbox" <if condition="in_array('guang-newsadd',$gl['quanxian'])">checked</if> value="guang-newsadd,guang-xiad,guang-newsAddbom" name="quanxian[]"   >
							添加</label>
						<label class="">
							<input type="checkbox" <if condition="in_array('guang-newsedit',$gl['quanxian'])">checked</if> value="guang-newsedit,guang-xied,guang-newsEditbo,guang-newsEditbom" name="quanxian[]"   >
							修改</label>
						<label class="">
							<input type="checkbox" <if condition="in_array('guang-delnews',$gl['quanxian'])">checked</if> value="guang-delnews" name="quanxian[]" >
							删除</label>
						<label class="">
							<input type="checkbox" <if condition="in_array('guang-newslist',$gl['quanxian'])">checked</if> value="guang-newslist,guang-newsTi,guang-newsListbo,guang-newsListbom,guang-xili" name="quanxian[]"   >
							查看</label>
					</dd>
				</dl>
				</dd>
				</dl>
				<dl class="permission-list">
					<dt>
						<label>
							<input type="checkbox" value=""  >
							商品管理</label>
					</dt>
					<dd>
						<dl class="cl permission-list2">
					<dd style="margin-left: -10px;">
						<label class="">
							<input type="checkbox" <if condition="in_array('product-ProductAdd',$gl['quanxian'])">checked</if> value="product-ProductAdd,productcate-add" name="quanxian[]" >
							添加</label>
						<label class="">
							<input type="checkbox" <if condition="in_array('product-ProductEdit',$gl['quanxian'])">checked</if> value="product-upglgood,product-xiaglgood,product-ProductEdit,product-countprice,productcate-edit"  name="quanxian[]" >
							修改</label>
						<label class="">
							<input type="checkbox" <if condition="in_array('product-norms_alldel',$gl['quanxian'])">checked</if> value="product-norms_alldel,product-delproduct,productcate-del" name="quanxian[]" >
							删除</label>
						<label class="">
							<input type="checkbox" <if condition="in_array('product-ProductList',$gl['quanxian'])">checked</if> value="product-second,product-third,product-ProductList,productcate-lists" name="quanxian[]" >
							查看</label>
					</dd>
				</dl>
				</dd>
				</dl>
				<dl class="permission-list">
					<dt>
						<label>
							<input type="checkbox" value=""  >
							订单管理</label>
					</dt>
					<dd>
						<dl class="cl permission-list2">
					<dd style="margin-left: -10px;">
						<label class="">
							<input type="checkbox" <if condition="in_array('order-newsadd',$gl['quanxian'])">checked</if> value="order-newsadd" name="quanxian[]" >
							添加</label>
						<label class="">
							<input type="checkbox" <if condition="in_array('order-orderchange',$gl['quanxian'])">checked</if> value="order-orderchange,order-expedit,order-takeover,order-tuihuanedit"    name="quanxian[]" >
							修改</label>
						<label class="">
							<input type="checkbox" <if condition="in_array('order-del',$gl['quanxian'])">checked</if> value="order-del,order-pingjiadel"   name="quanxian[]" >
							删除</label>
						<label class="">
							<input type="checkbox" <if condition="in_array('order-orderList',$gl['quanxian'])">checked</if> value="order-orderList,order-orderdetail,order-pingjiadetail,order-tuihuanList,order-pingjiaList"   name="quanxian[]" >
							查看</label>
					</dd>
				</dl>
				</dd>
				</dl>
				<dl class="permission-list">
					<dt>
						<label>
							<input type="checkbox" value=""  >
							优惠券管理</label>
					</dt>
					<dd>
						<dl class="cl permission-list2">
					<dd style="margin-left: -10px;">
						<label class="">
							<input type="checkbox" <if condition="in_array('coupon-typeAdd',$gl['quanxian'])">checked</if> value="coupon-typeAdd,coupon-couponAdd" name="quanxian[]"  >
							添加</label>
						<label class="">
							<input type="checkbox" <if condition="in_array('coupon-typeedit',$gl['quanxian'])">checked</if> value="coupon-typeedit,coupon-couponedit" name="quanxian[]" >
							修改</label>
						<label class="">
							<input type="checkbox" <if condition="in_array('coupon-typeDel',$gl['quanxian'])">checked</if> value="coupon-typeDel,coupon-couponDel" name="quanxian[]"  >
							删除</label>
						<label class="">
							<input type="checkbox" <if condition="in_array('coupon-typeList',$gl['quanxian'])">checked</if> value="coupon-typeList,coupon-couponList,coupon-usercouponList"   name="quanxian[]" >
							查看</label>
					</dd>
				</dl>
				</dd>
				</dl>
				<dl class="permission-list">
					<dt>
						<label>
							<input type="checkbox" value=""  >
							管理员管理</label>
					</dt>
					<dd>
						<dl class="cl permission-list2">
					<dd style="margin-left: -10px;">
						<label class="">
							<input type="checkbox" <if condition="in_array('admin-doadd',$gl['quanxian'])">checked</if> value="admin-doadd,admin-adminAdd,admin-adminRoleAdd"  name="quanxian[]" >
							添加</label>
						<label class="">
							<input type="checkbox" <if condition="in_array('admin-adminStop',$gl['quanxian'])">checked</if> value="admin-adminStop,admin-doedit,admin-adminStart,admin-resetpwd,admin-adminRoleEdit"    name="quanxian[]" >
							修改</label>
						<label class="">
							<input type="checkbox" <if condition="in_array('admin-adminDel',$gl['quanxian'])">checked</if> value="admin-adminDel,admin-roledel"   name="quanxian[]" >
							删除</label>
						<label class="">
							<input type="checkbox" <if condition="in_array('admin-adminList',$gl['quanxian'])">checked</if> value="admin-adminList,admin-adminRole"  name="quanxian[]" >
							查看</label>
					</dd>
				</dl>
				</dd>
				</dl>
				<dl class="permission-list">
					<dt>
						<label>
							<input type="checkbox" value=""  >
							会员管理</label>
					</dt>
					<dd>
						<dl class="cl permission-list2">
					<dd style="margin-left: -10px;">
						<label class="">
							<input type="checkbox" <if condition="in_array('user-edit',$gl['quanxian'])">checked</if> value="user-edit,user-adminStart,Withdraw-edit,Level-edit"   name="quanxian[]" >
							修改</label>
						<label class="">
							<input type="checkbox" <if condition="in_array('user-adminStop',$gl['quanxian'])">checked</if> value="user-adminStop,user-adminStart"   name="quanxian[]" >
							启禁</label>
						<label class="">
							<input type="checkbox" <if condition="in_array('user-lists',$gl['quanxian'])">checked</if> value="user-lists,user-integral,user-balance,Withdraw-lists,Level-lists"  name="quanxian[]" >
							查看</label>
					</dd>
				</dl>
				</dd>
				</dl>
				<dl class="permission-list">
				<dt>
					<label>
						<input type="checkbox" value=""  >
						友链管理</label>
				</dt>
				<dd>
					<dl class="cl permission-list2">
				<dd style="margin-left: -10px;">
					<label class="">
						<input type="checkbox" <if condition="in_array('Link-add',$gl['quanxian'])">checked</if> value="Link-add" name="quanxian[]" >
						添加</label>
					<label class="">
						<input type="checkbox" <if condition="in_array('Link-edit',$gl['quanxian'])">checked</if> value="Link-edit"  name="quanxian[]" >
						修改</label>
					<label class="">
						<input type="checkbox" <if condition="in_array('Link-del',$gl['quanxian'])">checked</if> value="Link-del" name="quanxian[]" >
						删除</label>
					<label class="">
						<input type="checkbox" <if condition="in_array('Link-lists',$gl['quanxian'])">checked</if> value="Link-lists" name="quanxian[]" >
						查看</label>
				</dd>
			</dl>
				</dd>
				</dl>
				<dl class="permission-list">
					<dt>
						<label>
							<input type="checkbox" value=""  >
							系统管理</label>
					</dt>
					<dd>
						<dl class="cl permission-list2">
					<dd style="margin-left: -10px;">
						<label class="">
							<input type="checkbox" <if condition="in_array('system-edit',$gl['quanxian'])">checked</if> value="system-edit" name="quanxian[]" >
							修改</label>
					</dd>
				</dl>
				</dd>
				</dl>
			</div>
		</div>
		<div class="row cl">
			<div class="col-xs-8 col-sm-9 col-xs-offset-4 col-sm-offset-3">
				<input type="hidden" name="id" value="{$gl.id}">
				<button type="submit" class="btn btn-success radius" id="admin-role-save" style="width: 200px;margin-left: 400px;"><i class="icon-ok"></i> 确定</button>
			</div>
		</div>
	</form>
</article>

<include file="Public:footer"/>
<!--请在下方写此页面业务相关的脚本-->
<script type="text/javascript">
$(function(){
	$(".permission-list dt input:checkbox").click(function(){
		$(this).closest("dl").find("dd input:checkbox").prop("checked",$(this).prop("checked"));
	});
	$(".permission-list2 dd input:checkbox").click(function(){
		var l =$(this).parent().parent().find("input:checked").length;
		var l2=$(this).parents(".permission-list").find(".permission-list2 dd").find("input:checked").length;
		if($(this).prop("checked")){
			$(this).closest("dl").find("dt input:checkbox").prop("checked",true);
			$(this).parents(".permission-list").find("dt").first().find("input:checkbox").prop("checked",true);
		}
		else{
			if(l==0){
				$(this).closest("dl").find("dt input:checkbox").prop("checked",false);
			}
			if(l2==0){
				$(this).parents(".permission-list").find("dt").first().find("input:checkbox").prop("checked",false);
			}
		}
	});
	
	$("#form-admin-role-add").validate({
		rules:{
			rname:{
				required:true,
				minlength:2,
				maxlength:30
			},
			content:{
				required:true,
				minlength:4,
				maxlength:100
			},
		},
		onkeyup:false,
		focusCleanup:true,
		success:"valid",
		submitHandler:function(form){
			$(form).ajaxSubmit();
			var index = parent.layer.getFrameIndex(window.name);
			parent.layer.close(index);
		}
	});
});
</script>
<!--/请在上方写此页面业务相关的脚本-->
</body>
</html>